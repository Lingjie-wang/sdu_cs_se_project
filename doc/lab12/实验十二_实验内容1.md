# 实验十二_实验内容1：参考教材6.2，结合项目的进程和开发历程，从设计原则的几个方面，组员对负责设计的模块进行评估，思考存在的问题和解决方案。

## 一、模块化(Modularity)评估与改进

### 1.当前模块化实现情况
- **优点：**
	- 系统已按功能划分为用户管理、员工信息、考勤管理、薪资计算等独立模块
	- 各模块数据库表设计相对独立(如薪资表与员工表通过ID关联)
	- 考勤与薪资模块通过接口进行数据交互而非直接耦合
- **问题：**
	- 员工状态变更(如离职)与考勤、薪资模块的联动处理分散在各模块中
	- 薪资计算模块同时包含计算逻辑和权限控制，职责不够单一
	- 考勤异常处理与考勤统计耦合度过高

### 2.改进方案
- **重构模块职责：**
	- 将员工状态变更事件抽象为独立的事件处理模块，采用观察者模式通知相关模块
	- 拆分薪资模块为"薪资计算引擎"和"薪资权限服务"两个子模块
	- 考勤模块分离"异常检测"和"统计计算"功能

## 二、接口(Interface)设计评估与改进

### 1. 当前接口设计情况
- **优点：**
	- 使用MyBatis Plus的QueryWrapper规范了复合查询接口
	- 薪资模块对前后端提供了明确的数据权限接口规范
	- 考勤打卡接口定义了清晰的输入输出参数
- **问题：**
	- 模块间接口缺乏统一文档和版本管理
	- 薪资计算接口未考虑不同薪资体系(如月薪/时薪)的扩展性
	- 考勤统计接口与报表模块的对接方式不够灵活

### 2. 改进方案
- **统一接口规范：**
	- 采用Swagger/OAS标准编写API文档
	- 为关键业务接口添加版本控制(如/v1/salary/calculate)
	- 定义通用的分页查询接口规范

## 三、信息隐藏(Information Hiding)评估与改进

### 1. 当前信息隐藏实践
- **优点：**
	- 薪资信息通过权限控制实现了对员工的隐藏
	- 数据库操作封装在Mapper层，业务逻辑不直接操作SQL
	- 考勤异常判定规则封装在服务内部
- **问题：**
	- 薪资计算过程的中间结果暴露给了上层模块
	- 考勤阈值配置(如迟到判定时间)硬编码在业务逻辑中
	- 员工离职处理的数据操作细节暴露在控制器层
### 2. 改进方案
- **加强封装：**
	- 薪资计算过程使用外观模式(Facade)隐藏实现细节
	- 将业务规则(如迟到阈值)移至配置中心
	- 使用DTO对象隔离内部数据结构

## 四、增量式开发(Incremental Development)评估

### 1. 当前增量开发实践
- **优点：**
	- 系统按功能模块分阶段交付(先基础信息管理，后考勤薪资)
	- 使用MyBatis Plus实现了查询功能的渐进增强
	- 薪资计算每月迭代优化算法
- **问题：**
	- 模块间依赖关系导致无法完全独立开发
	- 数据库结构变更缺乏平滑迁移方案
	- 新功能(如培训管理)接入现有系统时需大量适配
### 2. 改进方案
- **解耦开发依赖：**
	- 为各模块定义稳定的接口契约和模拟服务
	- 采用数据库迁移工具(Flyway/Liquibase)管理结构变更
	- 新功能模块采用插件式架构设计

## 五、抽象(Abstraction)与通用性(Generality)评估

### 1. 当前抽象层次问题
- **优点：**
	- 使用QueryWrapper抽象了复合查询条件
	- 薪资计算规则抽象为配置项
	- 考勤异常使用枚举值表示
- **问题：**
	- 不同职级的薪资计算逻辑存在重复代码
	- 考勤统计与薪资计算的关联关系处理不够通用
	- 报表生成逻辑针对特定需求硬编码
### 2. 改进方案
- **提升抽象层次：**
	- 使用策略模式实现不同职级的薪资计算
	- 定义通用的业务规则引擎处理条件逻辑
	- 采用模板方法模式统一报表生成流程

## 六、模块专项评估

### 1. 薪资计算模块
- 精度处理(四舍五入)逻辑分散在多处
- 事务管理直接使用原生注解，难以应对复杂场景
- 历史记录追溯缺乏统一查询接口
### 2. 考勤管理模块
- 打卡时间验证与异常判定耦合
- 全勤奖计算规则缺乏弹性
- 月度统计任务失败处理不足
### 3. 员工信息管理模块
- 离职处理流程缺乏事务一致性保证
- 复合查询条件构建方式不够直观
- 部门/职级变更影响范围分析不足